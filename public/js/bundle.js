!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e),window.AB||(window.AB={}),window.AB.components||(window.AB.components={});var s=new class{constructor(){this.store={}}register(t,e){if(t in Object.keys(this.store))throw new Error(`${t} is already registered`);this.store[t]=e,window.AB.components[t]=t}get(t){return this.store[t]}};function n(t,e,i,s){const n=function(t){const e=function(t,e){if("function"==typeof t.closest)return t.closest(e);const i=document.querySelectorAll(e);for(let e=0;e<i.length;e++){let s=t;for(;s;){if(i[e]===s)return s;s=s.parentElement}}}(t.target,i);t.delegateTarget=e,e&&s.call(null,t)};return t.addEventListener(e,n),function(){t.removeEventListener(e,n)}}window.AB||(window.AB={});class o{constructor(t,e){this.root=t,this.props=e||{},this.handlers=null,this.selectors={},this.modifiers={},this._removeHandlersMap={}}setState(t){if(!this.state)throw new Error("\n                You are trying to update a state that wasn't initialised yet.\n                Create it in the init method of your component first e.g. this.state = { foo: 'bar' };\n            ");this.state=Object.assign({},this.state,t)}_toggleHandlers(t){const e=this.handlers,i=this.selectors;e&&Object.keys(e).forEach(s=>{const o=s.split("@"),r=o[0],l=o[1];if(!r||!l)throw new Error("Wrong syntax for component");const c=e[s].bind(this);let h;if("window"===r&&(h=window),"root"===r&&(h=this.root),h){return void h[t?"addEventListener":"removeEventListener"](l,c)}const a=i[r];if(!a)throw new Error("Selector for element not found");if(t)"scroll"===l?this.root.querySelector(a).addEventListener(l,c):this._removeHandlersMap[s]=n(this.root,l,a,c);else if("scroll"===l)this.root.querySelector(a).removeEventListener(l,c);else{const t=this._removeHandlersMap[s];t&&t()}})}onMount(){}onUnmount(){}mount(){this._toggleHandlers(!0),this.onMount()}unmount(){this._toggleHandlers(!1),this.onUnmount()}}function r(t,e,i){return new(s.get(t))(e,i)}function l(t){(t||document.body).querySelectorAll("[data-component]").forEach(t=>{t.getAttribute("data-component").split(",").forEach(e=>{if(!e)return;r(e,t).mount()})})}window.AB.getInstance=r,window.AB.initComponents=l;s.register("TimedMenu",class extends o{constructor(t){super(t),this._handleKeyDown=(t=>{27===t.which&&(t.preventDefault(),this._handleClose())}),this._handleClose=(()=>{const t=this.root.classList,e=this.modifiers.contentActive;this.state.layoutActive&&(this.items.forEach(t=>t.classList.remove(this.modifiers.itemSelected)),t.remove(e),this.setState({layoutActive:!1}),this._setNextActive(),this._startTimer())}),this._handleMoreClick=(t=>{t.preventDefault(),this.choose(this.state.activeIndex)}),this._handleItemClick=(t=>{t.preventDefault();const e=t.delegateTarget,i=Array.prototype.slice.call(this.items).indexOf(e);this.choose(i)}),this.choose=(t=>{const e=this.items[t];this.items.forEach(t=>t.classList.remove(this.modifiers.itemSelected,this.modifiers.itemActive)),this.contents.forEach(t=>t.classList.remove(this.modifiers.typeActive)),clearInterval(this.timer),this.setState({layoutActive:!0,activeIndex:t}),e.classList.add(this.modifiers.itemSelected,this.modifiers.itemActive),this.root.classList.add(this.modifiers.contentActive),this.contents[t].classList.add(this.modifiers.typeActive),this._initSlider(t)}),this._handleSliderPrev=(t=>{t.preventDefault(),this.instances[this.state.activeSliderIndex]&&this.instances[this.state.activeSliderIndex].setPreviousSlide()}),this._handleSliderNext=(t=>{t.preventDefault(),this.instances[this.state.activeSliderIndex]&&this.instances[this.state.activeSliderIndex].setNextSlide()}),this._initSlider=(t=>{null!==this.state.activeSliderIndex&&(this.sliderPrev.removeEventListener("click",this._handleSliderPrev),this.sliderNext.removeEventListener("click",this._handleSliderNext));const e=!this.instances[t];if(e){const e=this.sliders[t];this.instances[t]=window.AB.getInstance("ContentSlider",e)}this.setState({activeSliderIndex:t}),this.sliderPrev.addEventListener("click",this._handleSliderPrev),this.sliderNext.addEventListener("click",this._handleSliderNext),e&&this.instances[t].mount()}),this._setActive=(t=>{const e=this.items[t],i=this.items[this.state.activeIndex];this.setState({activeIndex:t}),this.items.forEach(t=>t.classList.remove(this.modifiers.itemActive)),this.sections.forEach(t=>t.classList.remove(this.modifiers.sectionActive)),i&&(i.querySelector(this.selectors.progress).style.width=0),e.classList.add(this.modifiers.itemActive),setTimeout(()=>e.querySelector(this.selectors.progress).style.width="100%",0),this.sections[t].classList.add(this.modifiers.sectionActive)}),this._setNextActive=(()=>{const t=this.state.activeIndex,e=this.items.length;this._setActive(t===e-1?0:t+1)}),this._startTimer=(()=>{this.timer=setInterval(this._setNextActive,this.state.timeout)}),this.selectors={item:".js-timed-menu__item",progress:".js-timed-menu__progress",section:".js-timed-menu__section",more:".js-timed-menu__more",close:".js-timed-menu__close",contentType:".js-timed-menu__content-type",slider:".js-content-slider",sliderPrev:".js-timed-menu__slider-prev",sliderNext:".js-timed-menu__slider-next"},this.state={layoutActive:!1,activeIndex:0,activeSliderIndex:null,timeout:6e3},this.modifiers={contentActive:"layout_active",itemActive:"menu__item_active",itemSelected:"menu__item_selected",sectionActive:"layout__previews-section_active",typeActive:"layout__content-type_active"},this.handlers={"more@click":this._handleMoreClick,"close@click":this._handleClose,"window@keydown":this._handleKeyDown,"item@click":this._handleItemClick},this.items=t.querySelectorAll(this.selectors.item),this.sections=t.querySelectorAll(this.selectors.section),this.contents=t.querySelectorAll(this.selectors.contentType),this.sliders=t.querySelectorAll(this.selectors.slider),this.sliderPrev=t.querySelector(this.selectors.sliderPrev),this.sliderNext=t.querySelector(this.selectors.sliderNext),this.timer=null,this.instances=[]}onMount(){this._setActive(0),this._startTimer()}});s.register("ContentSlider",class extends o{constructor(t){super(t),this._handleScroll=(()=>{const t=this.scroll.clientHeight,e=this.scroll.scrollTop,i=Math.floor(e/t);i!==this.state.activeIndex&&this.setState({activeIndex:i})}),this._handleControlClick=(t=>{t.preventDefault();const e="next"===t.delegateTarget.getAttribute("data-direction")?1:-1,i=this.state.activeIndex+e;this.setSlide(i)}),this._handleReset=(()=>{0!==this.state.activeIndex&&this.setSlide(0)}),this._handleKeyDown=(t=>{switch(t.which){case 40:t.preventDefault(),this.setNextSlide();break;case 38:t.preventDefault(),this.setPreviousSlide();break;case 27:this._handleReset()}}),this.setNextSlide=(()=>{this.setSlide(this.state.activeIndex+1)}),this.setPreviousSlide=(()=>{this.setSlide(this.state.activeIndex-1)}),this.setSlide=(t=>{const e=this.items[t];e&&(t<0||t>this.items.length-1||(e.scrollIntoView({behavior:"smooth"}),this.setState({activeIndex:t})))}),this.selectors={scroll:".js-content-slider__scroll",item:".js-content-slider__item",control:".js-content-slider__control",reset:".js-content-slider__reset"},this.state={activeIndex:0,id:Math.random()},this.handlers={"control@click":this._handleControlClick,"reset@click":this._handleReset,"window@keydown":this._handleKeyDown,"scroll@scroll":this._handleScroll},this.items=this.root.querySelectorAll(this.selectors.item),this.scroll=this.root.querySelector(this.selectors.scroll)}onMount(){}});s.register("Gallery",class extends o{constructor(t){super(t),this._handleKeyDown=(t=>{27===t.which&&this.state.active&&(t.preventDefault(),this.toggle(!1))}),this._handleActionClick=(t=>{t.preventDefault(),this.toggleAction()}),this._handleClose=(t=>{t.preventDefault(),this.toggle(),this.toggleAction(!1)}),this._handlePreviewClick=(t=>{t.preventDefault(),this.toggle()}),this.toggle=(t=>{const e=void 0!==t?t:!this.state.active;this.viewer.classList[e?"add":"remove"](this.modifiers.active),this.setState({active:e})}),this.toggleAction=(t=>{const e=void 0!==t?t:!this.state.actionActive;this.action.classList[e?"add":"remove"](this.modifiers.actionActive),this.setState({actionActive:e})}),this.selectors={preview:".js-gallery__preview",viewer:".js-gallery__viewer",close:".js-gallery__close",action:".js-gallery__action",actionButton:".js-gallery__action-button"},this.modifiers={active:"viewer_active",actionActive:"viewer__action_active"},this.state={active:!1,actionActive:!1},this.handlers={"close@click":this._handleClose,"preview@click":this._handlePreviewClick,"actionButton@click":this._handleActionClick,"window@keydown":this._handleKeyDown},this.viewer=t.querySelector(this.selectors.viewer),this.action=t.querySelector(this.selectors.action)}onMount(){}}),l()}]);